{{- if .HasShortcode "leaflet" -}}
	{{- $scratch := .Scratch -}}
	{{- with "cdnjs.cloudflare.com" -}}
		{{- if not ($scratch.Get .) -}}
			{{- $scratch.Set . true -}}
			<link rel="preconnect" href="https://{{- . -}}" />
		{{- end -}}

		{{- with printf "https://%s/ajax/libs/leaflet/1.9.3/leaflet.min.css" . -}}
			<link rel="preload" as="stylesheet" href="{{- . -}}" />

			<link
				href="{{- . -}}"
				rel="stylesheet"
				crossorigin="anonymous"
				referrerpolicy="no-referrer"
				integrity="sha512-KJRB1wUfcipHY35z9dEE+Jqd+pGCuQ2JMZmQPAjwPjXuzz9oL1pZm2cd79vyUgHQxvb9sFQ6f05DIz0IqcG1Jw=="
			/>
		{{- end -}}

		{{- with printf "https://%s/ajax/libs/leaflet/1.9.3/leaflet.min.js" . -}}
			<link rel="preload" as="script" href="{{- . -}}" />

			<script
				src="{{- . -}}"
				crossorigin="anonymous"
				referrerpolicy="no-referrer"
				integrity="sha512-Io0KK/1GsMMQ8Vpa7kIJjgvOcDSwIqYuigJEYxrrObhsV4j+VTOQvxImACNJT5r9O4n+u9/58h7WjSnT5eC4hA=="
			></script>
		{{- end -}}
	{{- end -}}
{{- end -}}
